---
import Header from '../components/Header.astro'
import Footer from '../components/Footer.astro'
import Sidebar from '../components/Sidebar.astro'

export interface Props {
  title: string
  background: string
  showSidebar?: boolean
}

const { title, background, showSidebar = false } = Astro.props
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width"
    />
    <link
      rel="icon"
      type="image/svg+xml"
      href="/favicon.ico"
    />
    <meta
      name="generator"
      content={Astro.generator}
    />
    <title>{title} - Johnda Oost</title>
    <link
      href="/fonts/cinzel/cinzel.css"
      rel="stylesheet"
    />
  </head>
  <body class="bg-primary text-quinary flex min-h-screen flex-col">
    <div class="flex-grow">
      <Header />
      <main
        class="container mx-auto px-4 py-8"
        style={`background-image: url('/images/backgrounds/${background}'); background-size: cover; background-position: center; background-attachment: fixed;`}
      >
        <div class="bg-primary bg-opacity-90 p-8">
          {
            showSidebar ? (
              <div class="flex flex-col gap-8 md:flex-row">
                <div class="md:w-2/3">
                  <slot />
                </div>
                <Sidebar class="md:w-1/3" />
              </div>
            ) : (
              <slot />
            )
          }
        </div>
      </main>
    </div>
    <Footer />
  </body>
</html>
